事后同步。

序列锁区分读者和写者，读者可以并行，写者依然需要互斥，读者和写者之间也可以并行，所以当读者很频繁，写者很偶发的时候适合用序列锁。这个锁有一个序列号，初始值是0，写者进入临界区时把这个序列号加1，退出时再加1，读者读之前先获取这个锁的序列号，如果是奇数说明有写者在临界区，就不停的获取序列号，直至序列号为偶数为止。然后读者进入临界区进行读，退出的时候再看一下序列号，如果序列号不一样了，就再读一次，直到退出的时候，序列号与进入的时候一致。
